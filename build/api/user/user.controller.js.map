{"version":3,"sources":["../../../src/server/api/user/user.controller.js"],"names":["me","req","res","status","json","data","user","updateMe","User","findByIdAndUpdate","_id","body","new","lean","exec","console","error","end"],"mappings":";;;;;;;AAAA;;;;;;AAEO,IAAMA,EAAE,GAAG,SAALA,EAAK,CAACC,GAAD,EAAMC,GAAN,EAAc;AAC9BA,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,IAAI,EAAEJ,GAAG,CAACK;AAAZ,GAArB;AACD,CAFM;;;;AAIA,IAAMC,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,iBAAON,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEDM,WAAKC,iBAAL,CAAuBR,GAAG,CAACK,IAAJ,CAASI,GAAhC,EAAqCT,GAAG,CAACU,IAAzC,EAA+C;AAChEC,cAAAA,GAAG,EAAE;AAD2D,aAA/C,EAGhBC,IAHgB,GAIhBC,IAJgB,EAFC;;AAAA;AAEdR,YAAAA,IAFc;AAQpBJ,YAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,cAAAA,IAAI,EAAEC;AAAR,aAArB;AARoB;AAAA;;AAAA;AAAA;AAAA;AAUpBS,YAAAA,OAAO,CAACC,KAAR;AACAd,YAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBc,GAAhB;;AAXoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAARV,QAAQ;AAAA;AAAA;AAAA,GAAd","sourcesContent":["import { User } from './user.model';\r\n\r\nexport const me = (req, res) => {\r\n  res.status(200).json({ data: req.user });\r\n};\r\n\r\nexport const updateMe = async (req, res) => {\r\n  try {\r\n    const user = await User.findByIdAndUpdate(req.user._id, req.body, {\r\n      new: true\r\n    })\r\n      .lean()\r\n      .exec();\r\n\r\n    res.status(200).json({ data: user });\r\n  } catch (e) {\r\n    console.error(e);\r\n    res.status(400).end();\r\n  }\r\n};\r\n"],"file":"user.controller.js"}